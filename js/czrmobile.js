/*
 * 作者：探す音夢
 * 功能：移动端模拟页面
 * 时间：2018年1月6日
 * 版本：V1.0
 ***转载请注明出处***
*/
;(function($,window,document,undefined){var Operator=function(tis,opt){Oitsdata=tis;this.defaults={area:['350px','auto'],background:'',title:false,titleSite:'center',titleBackground:'#f3f3f3',titleSize:'12px',top:true,topBackground:'#2196F3',time:true,content:'',contentBackground:'',footer:true,footerBackground:'black',footerMenu:'',footerHome:'',footerBack:''};if($('.czrMobile').length<=0){$('head').append('<link>');css=$('head').children(':last');css.attr({rel:'stylesheet',type:'text/css',href:'css/czrmobile.css'})}Operatorinfo=$.extend({},this.defaults,opt)};Operator.prototype={frame:function(){Oitsdata.addClass('czrMobile');Oitsdata.css('background',Operatorinfo.background);if(Object.prototype.toString.call(Operatorinfo.area)==='[object Array]'){Oitsdata.css('width',Operatorinfo.area[0])}else{Oitsdata.css('width',Operatorinfo.area)}return true},title:function(){if(Operatorinfo.title===false||Operatorinfo.title==='false'){return false}Oitsdata.append('<header class="header">'+Operatorinfo.title+'</header>');Oitsdata.find('.header').css('text-align',Operatorinfo.titleSite);Oitsdata.find('.header').css('font-size',Operatorinfo.titleSize);Oitsdata.find('.header').css('background',Operatorinfo.titleBackground);return true},top:function(){if(Operatorinfo.top===true||Operatorinfo.top==='true'){data='';switch(Operatorinfo.time){case true:case'true':timedate=new Date();times=timedate.getHours();branch=timedate.getMinutes();if(times<10){times='0'+times}if(branch<10){branch='0'+branch}data='<span>'+times+':'+branch+'</span>';break;case false:case'false':data='<span></span>';break;default:data='<span>'+Operatorinfo.time+'</span>';break}Oitsdata.append('<nav class="nav">'+data+'<img src="images/electric.png" /><img src="images/4g.png" /><img src="images/model.png" /><img src="images/wifi.png" /><p class="both"></p></nav>');Oitsdata.find('.nav').css('background',Operatorinfo.topBackground);if(Operatorinfo.time===true||Operatorinfo.time==='true'){this.time()}return true}else{return false}},time:function(){setInterval(function(){timedate=new Date();times=timedate.getHours();branch=timedate.getMinutes();if(times<10){times='0'+times}if(branch<10){branch='0'+branch}Oitsdata.find('nav>span').html(times+':'+branch)},100)},content:function(){if(Operatorinfo.content.match(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/)){Oitsdata.append('<iframe id="aaaa" class="content" src="'+Operatorinfo.content+'"></iframe>')}else{Oitsdata.append('<div class="content roll">'+Operatorinfo.content+'</div>');Oitsdata.find('.content').css('background',Operatorinfo.contentBackground)}if(Object.prototype.toString.call(Operatorinfo.area)==='[object Array]'){Oitsdata.find('.content').css('height',Operatorinfo.area[1])}else{Oitsdata.find('.content').css('height',Operatorinfo.area)}return true},footer:function(){if(Operatorinfo.footer!==true){return false}Oitsdata.append('<footer class="footer"></footer>');Oitsdata.find('.footer').css('background',Operatorinfo.footerBackground);var btn=Oitsdata.find('.footer').append('<img src="images/menu.png" /><img src="images/home.png" /><img src="images/return.png" />');btn.on('click','img',function(){var index=$(this).index(),deg;switch(index){case 0:if(typeof(Operatorinfo.footerMenu)=='function'){Operatorinfo.footerMenu()}break;case 1:if(typeof(Operatorinfo.footerHome)=='function'){Operatorinfo.footerHome()}else{if(Operatorinfo.content.match(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/)){Oitsdata.find('iframe').attr('src',Operatorinfo.content)}else{Oitsdata.find('.content').html(Operatorinfo.content)}}break;case 2:if(typeof(Operatorinfo.footerBack)=='function'){Operatorinfo.footerBack()}else{if(Operatorinfo.content.match(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/)){history.go(-1)}}break}});return true}};$.fn.czrMobile=function(options){var operator=new Operator(this,options);operator.frame();operator.title();operator.top();operator.content();operator.footer()}})(jQuery,window,document);